(this.webpackJsonpppt_create=this.webpackJsonpppt_create||[]).push([[0],{390:function(t,e,n){},391:function(t,e,n){},411:function(t,e,n){"use strict";n.r(e);n(192),n(202);var r=n(30),i=n.n(r),o=n(188),a=n.n(o),s=(n(390),n(391),n(115)),l=n.n(s),c=n(3);l.a.defaults.xsrfCookieName="csrftoken",l.a.defaults.xsrfHeaderName="X-CSRFToken";var u,d=function(){var t=function(t){var e=null;if(document.cookie&&""!==document.cookie)for(var n=document.cookie.split(";"),r=0;r<n.length;r++){var i=n[r].replace(" ","");if(i.substring(0,t.length+1)===t+"="){e=decodeURIComponent(i.substring(t.length+1));break}}return e}("csrftoken");return Object(c.jsx)("input",{type:"hidden",name:"csrfmiddlewaretoken",value:null!==t&&void 0!==t?t:""})},f=n(50),h=n(56),v=n(190),g=n(36),b=n(189);function p(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function m(t,e){var n=new RegExp("\\n?".concat(p(e),"\\n?"),"g"),r=new RegExp("\\n?".concat(p("".concat(e).concat(e)),"\\n?"),"g"),i=t.tag,o=t.lines;console.log("## lines",o);var a,s=o.map((function(t){return t.trim()})).join("\n").replace(r,"\n\n").replace(n,"\n"),l=function(t){return t.split("\n").map((function(t){var e,n;return(null!==(e=null===(n=t[0])||void 0===n?void 0:n.toUpperCase())&&void 0!==e?e:"")+t.slice(1)})).join("\n")}((a=s,a.split("\n").map((function(t){return t.trim()})).join("\n"))).split(/\n\n+/g).filter((function(t){return/^(?!\s*$).+/.test(t)}));return console.log("## processed",l),0===l.length&&l.push(""),l.map((function(t){return{tag:i,body:t.replace(/\//g,"\n").trim()}}))}!function(t){t[t.withFlowOrder=0]="withFlowOrder",t[t.withBodyOrder=1]="withBodyOrder"}(u||(u={}));var j,y,O=function(){function t(e){var n;Object(f.a)(this,t),this.songParts=e,this.title=void 0,this.flow=void 0,this.linkUrl=void 0,this.bodys=[],this.tagBodyMap=new Map,this.bodysWithNoTag=[],this.comments=[];var r,i=Object(b.a)(e);try{for(i.s();!(r=i.n()).done;){var o,a=r.value;if(a.category===y.title&&(n=void 0,void 0===this.title?this.title=a.lines.map((function(t){return t.replace(/^@title:/i,"")})).join("\n"):this.logDiscard("title",a)),a.category===y.flow&&(n=void 0,void 0===this.flow?this.flow=a.lines.map((function(t){return t.replace(/^@flow:/i,"")})).join(" "):this.logDiscard("flow",a," ")),a.category===y.linkUrl&&(n=void 0,void 0===this.linkUrl?this.linkUrl=a.lines.join("\n"):this.logDiscard("linkUrl",a)),a.category===y.tag)n=(null===(o=a.lines[0])||void 0===o?void 0:o.replace(/^#/,"").replace(/[\][]/g,"").toUpperCase())||void 0,console.error("set current tag",n),a.lines.length>1&&this.logDiscard("tag",a.lines.slice(1),", ");if(a.category===y.body){console.error("current tag for body",n);var s=this.bodys[this.bodys.length-1];s&&n&&s.tag===n?s.lines=s.lines.concat("\n",a.lines):this.bodys.push({tag:n,lines:a.lines})}a.category===y.comment&&this.comments.push(a.lines.join("\n"))}}catch(l){i.e(l)}finally{i.f()}this.bodysWithNoTag=this.bodys.filter((function(t){return void 0===t.tag})),console.log("bodysWith NoTag",this.bodysWithNoTag),this.tagBodyMap=new Map(this.bodys.flatMap((function(t){var e=t.tag,n=t.lines;return e?[{tag:e,lines:n}]:[]})).map((function(t){return[t.tag,t]})))}return Object(h.a)(t,[{key:"logDiscard",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\n";e instanceof Array?console.error("".concat(t," part (").concat(e,") is discarded")):console.error("".concat(t," part (").concat(e.lines.join(n),") is discarded"))}},{key:"toSlideBodyOrder",value:function(t){var e=t.delimiter;return this.bodys.flatMap((function(t){return m(t,e)}))}},{key:"toSlideFlowOrder",value:function(t){var e=this,n=t.delimiter;if(void 0===this.flow)return this.toSlideBodyOrder(t);var r=P(this.flow).map((function(t){return t.toUpperCase()})),i=[],o=r.map((function(t){if(t){var n=e.tagBodyMap.get(t);if(n)return i.push(t),n}return t})).flatMap((function(t){return"string"===typeof t?[{tag:t,body:""}]:m(t,n)})),a=this.bodys.filter((function(t){return t.tag&&!i.includes(t.tag)})).flatMap((function(t){return m(t,n)})),s=this.bodysWithNoTag.flatMap((function(t){return m(t,n)}));return o.concat(a).concat(s)}},{key:"toSlides",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.method,n=void 0===e?u.withFlowOrder:e,r=t.delimiter,i=void 0===r?"/":r;switch(n){case u.withFlowOrder:return this.toSlideFlowOrder({delimiter:i});case u.withBodyOrder:default:return this.toSlideBodyOrder({delimiter:i})}}},{key:"toString",value:function(){return"\n\t\t\t* title: ".concat(this.title,"\n\t\t\t* flow: ").concat(this.flow,"\n\t\t\t* linkUrl: ").concat(this.linkUrl,"\n\t\t\t* bodys: ").concat(this.bodys.map((function(t){var e=t.tag,n=t.lines;return"[".concat(e,"]\n").concat(n.join("\n"))})).join("\n\n"),"\n\t\t\t* tagBodyMap: ").concat(this.tagBodyMap,"\n\t\t\t* bodysWithNoTag: ").concat(this.bodysWithNoTag,"\n\t\t\t* comments: ").concat(this.comments,"\n\t\t")}}]),t}(),w=n(116);!function(t){t[t.empty=0]="empty",t[t.linkUrl=1]="linkUrl",t[t.tag=2]="tag",t[t.flow=3]="flow",t[t.title=4]="title",t[t.comment=5]="comment",t[t.body=6]="body",t[t.date=7]="date",t[t.separator=8]="separator",t[t.unknown=9]="unknown"}(y||(y={}));var x=[/^(V\d?)$/i,/^(P?C\d?)$/i,/^(B\d?)$/i,/^(E(nding)?)$/i,/^\[([\w\d]+)\]$/i,/^#([\w\d]+)$/i],k=/[^\w\d)(\uac00-\ud7a3]+/,N=[].concat(x,[/^\(?x\d\)?$/i,/^\uac04\uc8fc$/,/^\uc870\uc6a9\ud788$/,/^\([\uac00-\ud7a3]+\)$/]),C=function(t){return N.some((function(e){return e.test(t)}))},P=function(t){return t.split(k).filter((function(t){return Boolean(t)}))},T=[/^[-=*][-=* ]+[-=*]$/],S=5,M=0,$=[y.title,y.flow,y.linkUrl],F=(j={},Object(g.a)(j,y.empty,(function(t){return""===t?S:M})),Object(g.a)(j,y.date,(function(t){})),Object(g.a)(j,y.title,(function(t){if(/^@title:/i.test(t))return S;var e=0;return/^\d./.test(t)&&(e+=2),/\(\w\)$/.test(t)&&(e+=2),/\(\w->\w\)$/.test(t)&&(e+=1),e})),Object(g.a)(j,y.linkUrl,(function(t){return/^https?:\/\/.*$/.test(t)?S:M})),Object(g.a)(j,y.flow,(function(t){if(/^@flow:/i.test(t))return S;var e=P(t);if(1===e.length)return M;var n=e.filter(C);return Math.ceil(5*n.length/e.length)})),Object(g.a)(j,y.tag,(function(t){return e=t,x.some((function(t){return t.test(e)}))?S:/^[A-Z]{,2}\d?$/i.test(t)?3:void 0;var e})),Object(g.a)(j,y.body,(function(t){return 2})),Object(g.a)(j,y.comment,(function(t){return/[\uac00-\ud7a3]+/.test(t)?2:0})),Object(g.a)(j,y.separator,(function(t){return e=t,T.some((function(t){return t.test(e)}))?S:M;var e})),j),U=function t(e){var n;Object(f.a)(this,t),this.text=e,this.inferedCategory=void 0;var r=Object(w.a)(y).getValues();this.inferedCategory=null!==(n=r.reduce((function(t,n){var r;if((null===t||void 0===t?void 0:t.score)===S)return t;var i=F[n],o=null===i||void 0===i?void 0:i(e);return void 0!==o&&o>(null!==(r=null===t||void 0===t?void 0:t.score)&&void 0!==r?r:-1)?{value:n,score:o}:t}),void 0))&&void 0!==n?n:{value:y.unknown,score:5}},B=function(){function t(e){Object(f.a)(this,t),this.lines=void 0,this.songsCache=void 0,this.done=!1,this.lines=e.trim().split("\n").map((function(t){return t.trim()})).reduce((function(t,e){var n,r=null!==(n=t[t.length-1])&&void 0!==n?n:"";return""===e&&""===r.text||t.push(new U(e)),t}),[]),console.log(this.lines.map((function(t){return{text:t.text,category:Object(w.a)(y).getKeyOrDefault(t.inferedCategory.value)}})))}return Object(h.a)(t,[{key:"songs",value:function(){if(this.songsCache)return this.songsCache;for(var t=this.getSongParts(),e=[],n=0,r=0,i=0,o=Array.from(t.entries());i<o.length;i++){var a=Object(v.a)(o[i],2),s=a[0],l=a[1];if(!(s<=r))if(l.category===y.separator){var c=t.slice(n,s);I(c)&&(e.push(c),n=s)}else if($.includes(l.category)){var u=t.slice(s).findIndex((function(t){return t.category===y.body}));if(-1===u)r=Number.MAX_SAFE_INTEGER;else{r=u;var d=t.slice(s,s+u).map((function(t){return t.category}));if(d.includes(y.title)||d.includes(y.flow)||d.includes(y.linkUrl)){var f=t.slice(n,s);I(f)&&(e.push(f),n=s)}}}}var h=t.slice(n);return I(h)&&e.push(h),this.songsCache=e.map((function(t){return new O(t)})),this.songsCache}},{key:"getSongParts",value:function(){var t=this,e=[];return this.lines.forEach((function(t,n){var r=e[e.length-1];void 0===r?e.push({start:n,category:t.inferedCategory.value}):r.category!==t.inferedCategory.value&&(r.end=n,e.push({start:n,category:t.inferedCategory.value}))})),e[e.length-1]&&(e[e.length-1].end=this.lines.length),e.flatMap((function(e){var n=e.start,r=e.end,i=e.category;return void 0===r?[]:[{start:n,end:r,category:i,lines:t.lines.slice(n,r).map((function(t){return t.text}))}]}))}}]),t}();function I(t){return t.filter((function(t){return t.category===y.body})).length>0}function A(t){var e=t.tag,n=t.body;return["[[".concat(null!==e&&void 0!==e?e:"","]]"),n||e].join("\n")}function R(t){return t.map(A).join("\n---\n")}var E=function(){function t(e){Object(f.a)(this,t),this.lineParser=void 0,this.songParsers=void 0,this.lineParser=new B(e),this.songParsers=this.lineParser.songs()}return Object(h.a)(t,[{key:"toFormText",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.songParsers.map((function(e){return R(e.toSlides(t))})).join("\n===\n")}}]),t}(),D=n(412),V=n(414),W=n(413),_=function(){var t=new Date,e=(7-Object(D.a)(t))%7,n=Object(W.a)(t,e);return"\ud14c\ud790\ub77c \ucc2c\uc591 "+Object(V.a)(n,"yyyy-MM-dd")};var H=function(){var t=Object(r.useRef)(null),e=Object(r.useRef)(null),n=Object(r.useRef)(null),i=Object(r.useRef)(null),o=Object(r.useRef)(null),a=Object(r.useRef)(null);return Object(c.jsxs)("div",{className:"wrapper",children:[Object(c.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)("a",{className:"navbar-brand",href:"{% url 'lyrics' %}",children:"\uac00\uc0ac PPT \uc0dd\uc131\uae30"}),Object(c.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(c.jsx)("span",{className:"navbar-toggler-icon"})}),Object(c.jsx)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:Object(c.jsx)("ul",{className:"navbar-nav mr-auto",children:Object(c.jsx)("li",{className:"nav-item active",children:Object(c.jsx)("a",{className:"nav-link",href:"{% url 'lyrics' %}",children:"\uac00\uc0ac \uc0dd\uc131"})})})})]})}),Object(c.jsx)("div",{className:"container",children:Object(c.jsxs)("div",{className:"App",children:[Object(c.jsxs)("form",{id:"lyrics_form",name:"lyrics_form",ref:t,method:"post",action:"https://jjmean2.pythonanywhere.com/ppt_create/lyrics",children:[Object(c.jsx)(d,{}),Object(c.jsx)("input",{ref:o,type:"hidden",name:"body"}),Object(c.jsx)("input",{ref:a,type:"hidden",name:"filename"})]}),Object(c.jsxs)("div",{className:"page",children:[Object(c.jsx)("div",{className:"row",children:Object(c.jsxs)("div",{className:"col-xs-2",children:[Object(c.jsx)("label",{htmlFor:"delimiter",children:"\uad6c\ubd84\uc790: "}),Object(c.jsx)("input",{ref:e,id:"delimiter",className:"form-control",placeholder:"/",type:"text"})]})}),Object(c.jsx)("div",{className:"row",children:Object(c.jsxs)("div",{className:"col-xs-2",children:[Object(c.jsx)("label",{htmlFor:"filename",children:"\ud30c\uc77c\uba85: "}),Object(c.jsx)("input",{ref:n,id:"filename",className:"form-control",placeholder:_(),type:"text"})]})}),Object(c.jsx)("br",{}),Object(c.jsx)("div",{className:"button-container",children:Object(c.jsx)("button",{className:"btn btn-primary",onClick:function(){var r,s,l;if(t.current&&i.current&&o.current&&a.current){var c=null===(r=i.current)||void 0===r?void 0:r.value;if(c){var u=new E(c).toFormText({delimiter:(null===(s=e.current)||void 0===s?void 0:s.value)||void 0});u?(o.current.value=u,a.current.value=(null===(l=n.current)||void 0===l?void 0:l.value)||_(),console.log(u),t.current.submit()):alert("PPT\ub85c \ub9cc\ub4e4 \uac00\uc0ac\uac00 \uc5c6\uc2b5\ub2c8\ub2e4. \ub0b4\uc6a9\uc744 \ud655\uc778\ud574\uc8fc\uc138\uc694.")}}},children:"\uc81c\ucd9c"})}),Object(c.jsxs)("div",{className:"textAreaContainer",children:[Object(c.jsx)("textarea",{className:"form-control",ref:i,id:"lyrics",placeholder:"\n* \uc904\ubc14\uafc8\uc744 \ud558\uba74 \uc2ac\ub77c\uc774\ub4dc \ub0b4\uc5d0\uc11c\ub3c4 \uc904\ubc14\uafc8\uc774 \ub429\ub2c8\ub2e4.\n* \ub450 \uc904 \uc774\uc0c1 \ub744\uc6b0\uba74 \uc2ac\ub77c\uc774\ub4dc\uac00 \uad6c\ubd84\ub429\ub2c8\ub2e4.\n* \uac00\uc0ac \uc55e\uc5d0\ub294 \ud30c\ud2b8 \ud0dc\uadf8\ub97c \ubd99\uc77c \uc218 \uc788\uc2b5\ub2c8\ub2e4. (V1, V, C, PC, \ub4f1\ub4f1)\n* \uc544\ubb34 \ub2e8\uc5b4\ub098 \uc55e\uc5d0 #\uc744 \ubd99\uc5ec\ub3c4 \ud30c\ud2b8 \ud0dc\uadf8\ub85c \uc778\uc2dd\ud569\ub2c8\ub2e4. (#CE, #Ending, \ub4f1\ub4f1)\n* \ud30c\ud2b8 \ud0dc\uadf8\uac00 \ub098\uc624\uba74 \uadf8 \ub2e4\uc74c \ud30c\ud2b8 \ud0dc\uadf8\uac00 \ub098\uc624\uae30 \uc804\uae4c\uc9c0\uc758 \uac00\uc0ac\uac00 \uadf8 \ud30c\ud2b8\uc5d0 \uc18d\ud569\ub2c8\ub2e4.\n* @flow: \ub294 \uac01 \ud30c\ud2b8\uc758 \uc21c\uc11c\ub97c \uc9c0\uc815\ud558\ub294 \uc904\ub85c \uc5ec\uae30\uc11c \uc9c0\uc815\ud55c \ud30c\ud2b8 \uc21c\uc11c\ub300\ub85c \uc2ac\ub77c\uc774\ub4dc\uac00 \ubc30\uce58\ub429\ub2c8\ub2e4.\n* @flow: \uc904 \uc790\uccb4\ub294 PPT\uc5d0 \ub4e4\uc5b4\uac00\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.\n* @title: \uc904\uc740 \uc81c\ubaa9\uc744 \uc9c0\uc815\ud558\ub294 \uc904\ub85c \uc774 \uc904\uc774 \uc788\uc73c\uba74 \uc0c8\ub85c\uc6b4 \uace1\uc758 \uc2dc\uc791\uc73c\ub85c \ubd05\ub2c8\ub2e4.\n* @title: \uc904 \uc790\uccb4\ub294 PPT\uc5d0 \ub4e4\uc5b4\uac00\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.\n\n\ub2e4\uc74c\uc740 \uc608\uc2dc\uc785\ub2c8\ub2e4.\n----------------------------\n@title: All to Jesus I Surrender (\ucc2c\uc1a1\uac00 \ub0b4\uac8c\uc788\ub294\ubaa8\ub4e0\uac83\uc744) (C)\n@flow: V1 C V2 C C\n\nV1\nAll to Jesus I surrender,\nAll to Him I freely give\n\nI will ever love and trust Him,\nIn His presence daily live.\n\nC\nI surrender all,\nI surrender all.\n\nAll to Thee, my blessed Savior,\nI surrender all.\n\nV2\nAll to Jesus I surrender,\nHumbly at His feet I bow,\n\nWorldly pleasures all forsaken;\nTake me, Jesus, take me now.\n---------------------------\n"}),Object(c.jsx)("div",{className:"verticalLine66"}),Object(c.jsx)("div",{className:"verticalLine90"})]})]})]})})]})},J=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,415)).then((function(e){var n=e.getCLS,r=e.getFID,i=e.getFCP,o=e.getLCP,a=e.getTTFB;n(t),r(t),i(t),o(t),a(t)}))};a.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(H,{})}),document.getElementById("root")),J()}},[[411,1,2]]]);
//# sourceMappingURL=main.5bcfd2b0.chunk.js.map